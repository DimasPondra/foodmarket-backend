{
  "openapi": "3.1.0",
  "info": {
    "title": "Foodmarket API",
    "version": "1.0",
    "description": "API Foodmarket",
    "contact": {
      "name": "Dimas Pondra Oktafianto",
      "email": "dimaspondrao@gmail.com"
    }
  },
  "servers": [
    {
      "url": "http://foodmarket-backend.test/api",
      "description": "Local Dimas"
    }
  ],
  "paths": {
    "/register": {
      "post": {
        "summary": "Register Account",
        "operationId": "post-register",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Success Registration": {
                    "value": {
                      "meta": {
                        "code": 200,
                        "status": "success",
                        "message": "Registered Successfully"
                      },
                      "data": {
                        "access_token": "1|nJL56m70y7LraEBsNMT61kUxw3pXqyg7NmyioYor",
                        "token_type": "Bearer",
                        "user": {
                          "id": 2,
                          "name": "Dimas",
                          "email": "test@mail.com",
                          "email_verified_at": null,
                          "current_team_id": null,
                          "profile_photo_path": null,
                          "address": "Indonesia",
                          "houseNumber": "20",
                          "phoneNumber": "0822345678",
                          "city": "Indonesia",
                          "roles": "USER",
                          "created_at": 1639219275,
                          "updated_at": "2021-12-11T10:41:15.000000Z",
                          "profile_photo_url": "https://ui-avatars.com/api/?name=Dimas&color=7F9CF5&background=EBF4FF"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "headers": {},
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Authentication Failed": {
                    "value": {
                      "meta": {
                        "code": 500,
                        "status": "error",
                        "message": "Authentication Failed"
                      },
                      "data": {
                        "message": "Something went wrong",
                        "error": {
                          "validator": {
                            "customMessages": [],
                            "fallbackMessages": [],
                            "customAttributes": [],
                            "customValues": [],
                            "excludeUnvalidatedArrayKeys": null,
                            "extensions": [],
                            "replacers": []
                          },
                          "response": null,
                          "status": 422,
                          "errorBag": "default",
                          "redirectTo": null
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description": "API untuk register akun baru",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Dimas"
                  },
                  "email": {
                    "type": "string",
                    "example": "test@mail.com"
                  },
                  "address": {
                    "type": "string",
                    "example": "Indonesia"
                  },
                  "houseNumber": {
                    "type": "string",
                    "example": "20"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "example": "0822345678"
                  },
                  "city": {
                    "type": "string",
                    "example": "Indonesia"
                  },
                  "password": {
                    "type": "string",
                    "example": "test1234"
                  },
                  "password_confirmation": {
                    "type": "string",
                    "example": "test1234"
                  }
                },
                "required": [
                  "name",
                  "email",
                  "password",
                  "password_confirmation"
                ]
              }
            }
          },
          "description": ""
        },
        "x-internal": false,
        "parameters": [
          {
            "schema": {
              "type": "string",
              "default": "application/json"
            },
            "in": "header",
            "name": "Accept",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "application/x-www-form-urlencoded"
              ]
            },
            "in": "header",
            "name": "Content-Type",
            "required": true
          }
        ],
        "tags": [
          "Authentication"
        ]
      },
      "parameters": []
    },
    "/login": {
      "post": {
        "summary": "Login",
        "operationId": "post-login",
        "responses": {
          "200": {
            "description": "OK",
            "headers": {},
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Success Login": {
                    "value": {
                      "meta": {
                        "code": 200,
                        "status": "success",
                        "message": "Authenticated"
                      },
                      "data": {
                        "access_token": "2|fQn3pjbQQodNARHDpliJ7DV2cFIh5YpIGkd15GZO",
                        "token_type": "Bearer",
                        "user": {
                          "id": 2,
                          "name": "Dimas",
                          "email": "test@mail.com",
                          "email_verified_at": null,
                          "current_team_id": null,
                          "profile_photo_path": null,
                          "address": "Indonesia",
                          "houseNumber": "20",
                          "phoneNumber": "0822345678",
                          "city": "Indonesia",
                          "roles": "USER",
                          "created_at": 1639219275,
                          "updated_at": "2021-12-11T10:41:15.000000Z",
                          "profile_photo_url": "https://ui-avatars.com/api/?name=Dimas&color=7F9CF5&background=EBF4FF"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Login Failed": {
                    "value": {
                      "meta": {
                        "code": 500,
                        "status": "error",
                        "message": "Authentication Failed"
                      },
                      "data": {
                        "message": "Something went wrong",
                        "error": {
                          "validator": {
                            "customMessages": [],
                            "fallbackMessages": [],
                            "customAttributes": [],
                            "customValues": [],
                            "excludeUnvalidatedArrayKeys": null,
                            "extensions": [],
                            "replacers": []
                          },
                          "response": null,
                          "status": 422,
                          "errorBag": "default",
                          "redirectTo": null
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "description": "API untuk login",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "default": "application/json"
            },
            "in": "header",
            "name": "Accept",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "application/x-www-form-urlencoded"
              ]
            },
            "in": "header",
            "name": "Content-Type",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "example": "test@mail.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "test1234"
                  }
                },
                "required": [
                  "email",
                  "password"
                ]
              }
            }
          }
        },
        "tags": [
          "Authentication"
        ]
      }
    },
    "/logout": {
      "post": {
        "summary": "Logout",
        "operationId": "post-logout",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Success Logout": {
                    "value": {
                      "meta": {
                        "code": 200,
                        "status": "success",
                        "message": "Token Revoked"
                      },
                      "data": true
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Unauthorized": {
                    "value": {
                      "message": "Unauthenticated."
                    }
                  }
                }
              }
            }
          }
        },
        "description": "API untuk logout",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "default": "application/json"
            },
            "in": "header",
            "name": "Accept",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "application/x-www-form-urlencoded"
              ]
            },
            "in": "header",
            "name": "Content-Type",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "example": "Bearer sRtn3pjbQQodNARHDpliJ7DV2cFIh5YpIGkd15GZO"
            },
            "in": "header",
            "name": "Authorization",
            "required": true
          }
        ],
        "tags": [
          "Authentication"
        ]
      }
    },
    "/user": {
      "get": {
        "summary": "Get Data User",
        "tags": [
          "User-Account"
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Success": {
                    "value": {
                      "meta": {
                        "code": 200,
                        "status": "success",
                        "message": "Data profile user berhasil diambil"
                      },
                      "data": {
                        "id": 2,
                        "name": "Dimas",
                        "email": "test@mail.com",
                        "email_verified_at": null,
                        "current_team_id": null,
                        "profile_photo_path": null,
                        "address": "Indonesia",
                        "houseNumber": "20",
                        "phoneNumber": "0822345678",
                        "city": "Indonesia",
                        "roles": "USER",
                        "created_at": 1639219275,
                        "updated_at": "2021-12-11T10:41:15.000000Z",
                        "profile_photo_url": "https://ui-avatars.com/api/?name=Dimas&color=7F9CF5&background=EBF4FF"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "operationId": "get-user",
        "description": "API untuk ambil data user yang sedang login",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "default": "application/json"
            },
            "in": "header",
            "name": "Accept",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "example": "Bearer sRtn3pjbQQodNARHDpliJ7DV2cFIh5YpIGkd15GZO"
            },
            "in": "header",
            "name": "Authorization",
            "required": true
          }
        ]
      },
      "post": {
        "summary": "Update User Data",
        "operationId": "post-user",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Success Update Data": {
                    "value": {
                      "meta": {
                        "code": 200,
                        "status": "success",
                        "message": "Profile Updated"
                      },
                      "data": {
                        "id": 2,
                        "name": "Pondra",
                        "email": "pondra@mail.com",
                        "email_verified_at": null,
                        "current_team_id": null,
                        "profile_photo_path": null,
                        "address": "Jakarta",
                        "houseNumber": "21",
                        "phoneNumber": "08987654321",
                        "city": "Jakarta",
                        "roles": "USER",
                        "created_at": 1639219275,
                        "updated_at": "2021-12-11T12:23:03.000000Z",
                        "profile_photo_url": "https://ui-avatars.com/api/?name=Pondra&color=7F9CF5&background=EBF4FF"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                },
                "examples": {
                  "Unauthorized": {
                    "value": {
                      "message": "Unauthenticated."
                    }
                  }
                }
              }
            }
          }
        },
        "description": "API untuk update data user yang sedang login",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "default": "application/json"
            },
            "in": "header",
            "name": "Accept",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "enum": [
                "application/x-www-form-urlencoded"
              ]
            },
            "in": "header",
            "name": "Content-Type",
            "required": true
          },
          {
            "schema": {
              "type": "string",
              "example": "Bearer sRtn3pjbQQodNARHDpliJ7DV2cFIh5YpIGkd15GZO"
            },
            "in": "header",
            "name": "Authorization",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Pondra"
                  },
                  "email": {
                    "type": "string",
                    "example": "pondra@mail.com"
                  },
                  "address": {
                    "type": "string",
                    "example": "Jakarta"
                  },
                  "houseNumber": {
                    "type": "string",
                    "example": "21"
                  },
                  "phoneNumber": {
                    "type": "string",
                    "example": "08987654231"
                  },
                  "city": {
                    "type": "string",
                    "example": "Jakarta"
                  }
                }
              }
            }
          }
        },
        "tags": [
          "User-Account"
        ]
      }
    }
  },
  "components": {
    "schemas": {}
  },
  "tags": [
    {
      "name": "Authentication"
    },
    {
      "name": "Food"
    },
    {
      "name": "Transaction"
    },
    {
      "name": "User-Account"
    }
  ]
}